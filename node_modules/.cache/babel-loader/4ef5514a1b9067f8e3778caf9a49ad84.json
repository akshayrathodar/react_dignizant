{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/dig/src/Components/addproduct.js\";\nimport React from 'react';\nimport { Heading1 } from '../Elements/heading1';\nimport { Buttons } from '../Elements/button';\nimport { Textinput } from '../Elements/textinput';\nimport Grid from '@material-ui/core/Grid';\nimport { addProduct } from '../Apis/callApis';\nimport { connect } from \"react-redux\";\nimport { loginState } from '../actions/index';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChange = evt => {\n      let value = evt.target.value;\n      this.setState({\n        [evt.target.name]: value\n      });\n    };\n\n    this.onButtonClick = evt => {\n      if (this.state.productname !== \"\" && this.state.productprice !== \"\" && this.state.desc !== \"\" && this.state.image !== \"\") {\n        let FD = new FormData();\n        FD.append('name', this.state.productname);\n        FD.append('price', this.state.productprice);\n        FD.append('desc', this.state.desc);\n        FD.append('file', this.state.image);\n        addProduct(FD).then(resp => {\n          if (resp.data.status) {\n            alert('Product Added Successfully');\n            this.setState({\n              added: true\n            }); //this.props.history.push('/product');   \n          } else {\n            console.log(resp.data.message);\n            alert(resp.data);\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        alert(\"Please Input All Data\");\n      }\n    };\n\n    this.onFileChange = ev => {\n      if (ev.target.files[0]) {\n        this.setState({\n          image: ev.target.files[0]\n        });\n      }\n    };\n\n    this.state = {\n      productname: '',\n      image: '',\n      productprice: '',\n      desc: '',\n      added: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      added: false\n    });\n  }\n\n  render() {\n    if (!this.props.login) {\n      this.props.history.push('/product');\n    }\n\n    if (this.state.added) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Heading1, {\n            title: \"Add Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/product\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Go to Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Textinput, {\n            name: \"productname\",\n            label: \"Product Name\",\n            value: this.state.productname,\n            textEvt: this.onTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Textinput, {\n            type: \"number\",\n            name: \"productprice\",\n            label: \"Product Price\",\n            value: this.state.productprice,\n            textEvt: this.onTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Textinput, {\n            name: \"desc\",\n            label: \"Description\",\n            value: this.state.desc,\n            textEvt: this.onTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"file\",\n            type: \"file\",\n            onChange: this.onFileChange,\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Buttons, {\n            size: \"large\",\n            title: \"Insert\",\n            color: \"primary\",\n            clickEvt: this.onButtonClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    login: state.login\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    loginState: stat => dispatch(loginState(stat))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddProduct);","map":{"version":3,"sources":["/opt/lampp/htdocs/dig/src/Components/addproduct.js"],"names":["React","Heading1","Buttons","Textinput","Grid","addProduct","connect","loginState","Link","Button","Redirect","AddProduct","Component","constructor","props","onTextChange","evt","value","target","setState","name","onButtonClick","state","productname","productprice","desc","image","FD","FormData","append","then","resp","data","status","alert","added","console","log","message","catch","err","onFileChange","ev","files","componentDidMount","render","login","history","push","mapStateToProps","mapDispatchToProps","dispatch","stat"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport {Heading1} from '../Elements/heading1';\nimport {Buttons} from '../Elements/button';\nimport { Textinput } from '../Elements/textinput';\n\nimport Grid from '@material-ui/core/Grid';\nimport { addProduct } from '../Apis/callApis';\n\n\nimport { connect } from \"react-redux\";\nimport { loginState } from '../actions/index';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\n\nimport  { Redirect } from 'react-router-dom'\n\nclass AddProduct extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            productname:'',\n            image:'',\n            productprice:'',\n            desc:'',\n            added:false,\n        }\n        \n    }\n\n    componentDidMount() {\n        this.setState({added:false});\n    }\n\n    onTextChange = (evt) => {\n        \n        let value = evt.target.value;\n        this.setState({[evt.target.name]:value});\n        \n    }\n\n    onButtonClick = (evt) => {\n\n        if(this.state.productname !== \"\" && this.state.productprice !== \"\" && this.state.desc !== \"\" && this.state.image !== \"\") {\n            let FD = new FormData();\n            FD.append('name',this.state.productname);\n            FD.append('price',this.state.productprice);\n            FD.append('desc',this.state.desc);\n            FD.append('file',this.state.image);\n\n            addProduct(FD).then((resp) => {\n                if(resp.data.status) {\n                    alert('Product Added Successfully');\n                    this.setState({added:true});\n                    //this.props.history.push('/product');   \n                } else {\n                    console.log(resp.data.message);\n                    alert(resp.data);\n                }\n            }).catch((err) => {\n                console.log(err);\n            });    \n        } else {\n            alert(\"Please Input All Data\");\n        }\n        \n    }\n\n    onFileChange = (ev) => {\n        if(ev.target.files[0]) {\n            this.setState({image:ev.target.files[0]})\n        }\n    }\n\n    render(){\n        if(!this.props.login) {\n            this.props.history.push('/product');   \n        }\n        if(this.state.added) {\n            return <Redirect to=\"/product\" />\n        }\n        return(\n            <>\n            <Grid container spacing={4}>\n                <Grid item xs={12}>\n                    <Heading1 title=\"Add Product\" />\n                    <Link to=\"/product\"><h5>Go to Product</h5></Link>\n                </Grid>\n                <Grid item xs={12}>\n                    <Textinput name=\"productname\" label=\"Product Name\" value={this.state.productname} textEvt={this.onTextChange}/>\n                </Grid>\n                <Grid item xs={12}>\n                    <Textinput type=\"number\" name=\"productprice\" label=\"Product Price\" value={this.state.productprice} textEvt={this.onTextChange}/>\n                </Grid>\n                <Grid item xs={12}>\n                    <Textinput name=\"desc\" label=\"Description\" value={this.state.desc} textEvt={this.onTextChange}/>\n                </Grid>\n                <Grid item xs={12}>\n                    <input\n                        id=\"file\"\n                        type=\"file\"\n                        onChange={this.onFileChange}\n                        accept=\"image/*\"\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <Buttons size=\"large\" title=\"Insert\" color=\"primary\" clickEvt={this.onButtonClick} />\n                </Grid>\n                \n            </Grid>\n                \n\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return { login: state.login };\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        loginState: stat => dispatch(loginState(stat))\n    };\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(AddProduct);"]},"metadata":{},"sourceType":"module"}